<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>增强</title>
</head>

<body>
    <script>
    /**
     * 有人进一步改进了模块模式，即在返回对象之前加入对其增强的代码。这种增强的模块模式适合那 些单例必须是某种类型的实例，同时还必须添加某些属性和（或）方法对其加以增强的情况。来看下面 的例子。
     */

    var slt = function() {
        //私有
        var pv = 10;

        function pf() {
            return false;
        }

        //创建对象
        var object = new Cus(); //是某个类型的实例

        //添加特权/公有属性和方法
        object.pp = true;
        object.pm = function() {
            pv++;
            return pf();
        };

        //返回这个对象
        return object;
    }();

    /**
     * 如果前面演示模块模式的例子中的 application 对象必须是 BaseComponent 的实例，那么就可 以使用以下代码。
     */

    var app = function() {
        //私有
        var com = new Array();

        //初始化
        com.push(new BaseCom());

        //创建一个app局部副本
        var app1 = new BaseCom();

        //公共接口
        app1.getcom = function() {
            return com.length;
        };

        app1.regcom = function() {
            if (typeof com == 'object') {
                com.push(com);
            }
        };
        //返回这个副本
        return app1;
    }();

    /**
     * 在这个重写后的应用程序（application）单例中，首先也是像前面例子中一样定义了私有变量。主 要的不同之处在于命名变量 app 的创建过程，因为它必须是 BaseComponent 的实例。这个实例实际上 是 application 对象的局部变量版。此后，我们又为 app 对象添加了能够访问私有变量的公有方法。 最后一步是返回 app 对象，结果仍然是将它赋值给全局变量 application。
     */
    </script>
</body>

</html>
